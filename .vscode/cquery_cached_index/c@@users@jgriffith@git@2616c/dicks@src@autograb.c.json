16
{"last_modification_time":1519231040,"language":1,"import_file":"c:/users/jgriffith/git/2616c/dicks/src/autograb.c","args_hash":11154440639748051758,"includes":[{"line":1,"resolved_path":"c:/program files (x86)/windows kits/10/include/10.0.17763.0/ucrt/string.h"}],"dependencies":["c:/program files (x86)/windows kits/10/include/10.0.17763.0/ucrt/string.h","c:/program files (x86)/windows kits/10/include/10.0.17763.0/ucrt/corecrt.h","c:/program files (x86)/microsoft visual studio/2017/enterprise/vc/tools/msvc/14.16.27023/include/vcruntime.h","c:/program files (x86)/microsoft visual studio/2017/enterprise/vc/tools/msvc/14.16.27023/include/sal.h","c:/program files (x86)/windows kits/10/include/10.0.17763.0/ucrt/corecrt_memory.h","c:/program files (x86)/windows kits/10/include/10.0.17763.0/ucrt/corecrt_memcpy_s.h","c:/program files (x86)/windows kits/10/include/10.0.17763.0/ucrt/errno.h","c:/program files (x86)/microsoft visual studio/2017/enterprise/vc/tools/msvc/14.16.27023/include/vcruntime_string.h","c:/program files (x86)/windows kits/10/include/10.0.17763.0/ucrt/corecrt_wstring.h","c:/program files (x86)/microsoft visual studio/2017/enterprise/vc/tools/msvc/14.16.27023/include/vadefs.h","c:/program files (x86)/microsoft visual studio/2017/enterprise/vc/tools/msvc/14.16.27023/include/concurrencysal.h"],"skipped_by_preprocessor":[],"types":[{"id":0,"usr":17,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[0,1,2,3,4,5,7,9],"uses":[]},{"id":1,"usr":2,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[6,8],"uses":[]}],"funcs":[{"id":0,"usr":8177889561349353636,"detailed_name":"void initLiftData(void)","short_name_offset":5,"short_name_size":12,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"12:6-12:18|-1|1|2","extent":"12:1-22:2|-1|1|0","bases":[],"derived":[],"vars":[],"uses":[],"callees":[]},{"id":1,"usr":17691567759086314127,"detailed_name":"void initSwingData()","short_name_offset":5,"short_name_size":13,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"23:6-23:19|-1|1|2","extent":"23:1-27:2|-1|1|0","bases":[],"derived":[],"vars":[],"uses":[],"callees":[]},{"id":2,"usr":3193866425917356182,"detailed_name":"void stopLiftMotors(void)","short_name_offset":5,"short_name_size":14,"kind":12,"storage":1,"hover":"","comments":"void setLiftMotors(void) {\r\n\r\n    motorSet(2, 127);\r\n    motorSet(6, 127);\r\nfor (int m = 0; m < liftPortCount; m++) {\r\n  liftControl.speed = liftControl.speed * (abs(liftControl.error  +\r\n  1)/(liftControl.error + 1));\r\n  liftControl.error = liftControl.encDesiredPos - liftControl.encActualPos;\r\n motorSet(liftControl.mtrPort[m], liftControl.speed);\r\n}\r\n}","declarations":[],"spell":"40:6-40:20|-1|1|2","extent":"40:1-46:2|-1|1|0","bases":[],"derived":[],"vars":[],"uses":[],"callees":[]},{"id":3,"usr":18292962273978896270,"detailed_name":"void closeClaw()","short_name_offset":5,"short_name_size":9,"kind":12,"storage":1,"hover":"","comments":"void lift(void *ignore) { // Lift task function\r\n  while (1) {\r\n    liftControl.encActualPos = encoderGet(liftEnc);\r\n    if (liftControl.exec) {\r\n        if (motorGet(liftControl.mtrPort[0]) == 0) {\r\n          setLiftMotors();\r\n        }\r\n        if (liftControl.encActualPos >= liftControl.encLimit) {\r\n          for (int m = 0; m < liftPortCount; m++) {\r\n            motorSet(liftControl.mtrPort[m], 0);\r\n            liftControl.exec = false;\r\n            strncpy(liftControl.message, \"Hit Encoder Limit\", 17);\r\n          }\r\n        }\r\n        if (liftControl.encActualPos >= liftControl.encDesiredPos) {\r\n          for (int m = 0; m < liftPortCount; m++) {\r\n            motorSet(liftControl.mtrPort[m], 0);\r\n            liftControl.exec = false;\r\n            strncpy(liftControl.message, \"Hit Desired\", 11);\r\n          }\r\n        }\r\n         if(swingControl.actualPos >= swingControl.encLimit) {\r\n           stopLiftMotors();\r\n           liftControl.exec = false;\r\n          liftControl.encDesiredPos = 0;\r\n          }\r\n        }\r\n       liftControl.encActualPos = encoderGet(liftEnc);\r\n       liftControl.error = liftControl.encDesiredPos -\r\n       liftControl.encActualPos;\r\n      delay(20);\r\n\r\n  }\r\n}\r\n\r\nvoid swing(void* ignore) {\r\n  while (1) {\r\n    if (swingControl.exec) {\r\n      if (motorGet(swingControl.mtrPort) == 0) {\r\n          motorSet(swingControl.mtrPort, swingControl.speed);\r\n      }\r\n      if (swingControl.actualPos >= liftControl.coneDetectThreshold) {\r\n        motorSet(swingControl.mtrPort, -20);\r\n        liftControl.encDesiredPos = 45;\r\n        liftControl.exec = true;\r\n      }\r\n    }\r\n      swingControl.actualPos = ultrasonicGet(intakeUS);\r\n    //  printf(\"IN swing control\\n\");\r\n      delay(50);\r\n  }\r\n}","declarations":[],"spell":"99:6-99:15|-1|1|2","extent":"99:1-104:2|-1|1|0","bases":[],"derived":[],"vars":[],"uses":[],"callees":[]},{"id":4,"usr":55670450959748106,"detailed_name":"void openClaw()","short_name_offset":5,"short_name_size":8,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"105:6-105:14|-1|1|2","extent":"105:1-109:2|-1|1|0","bases":[],"derived":[],"vars":[],"uses":[],"callees":[]},{"id":5,"usr":4630937393780598094,"detailed_name":"int getUS()","short_name_offset":4,"short_name_size":5,"kind":12,"storage":1,"hover":"","comments":"void autoGrab(void *ignore) {\r\n  while(1) {\r\n    if (taskGetState(swingTH) == TASK_SUSPENDED) {\r\n      taskResume(swingTH);\r\n    }\r\n\r\n    if (taskGetState(liftTH) == TASK_SUSPENDED) {\r\n      taskResume(liftTH);\r\n    }\r\n  swingControl.exec = true;\r\n  liftControl.exec = true;\r\n  while (liftControl.coneDetectThreshold > swingControl.actualPos) {\r\n    printf(\"%d %d  - Not at limit!\\n\",liftControl.coneDetectThreshold ,\r\n    swingControl.actualPos);\r\n  }\r\n  printf(\"Finish Swing\\n\");\r\n  taskSuspend(swingTH);\r\n  motorSet(swingControl.mtrPort, -90);\r\n  delay(500);\r\n  motorSet(swingControl.mtrPort, 0);\r\n  printf(\"Open Claw\\n\");\r\n  openClaw();\r\n  delay(350);\r\n\r\n\r\n  fprintf(uart1, \"%s %d\", liftControl.exec ? \"True\":\"False\",\r\n  liftControl.encDesiredPos);\r\n  taskSuspend(NULL);\r\n  }\r\n}","declarations":[],"spell":"142:5-142:10|-1|1|2","extent":"142:1-145:2|-1|1|0","bases":[],"derived":[],"vars":[5],"uses":[],"callees":[]},{"id":6,"usr":14152273160101033214,"detailed_name":"void autoGrab2(void *ignore)","short_name_offset":5,"short_name_size":9,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"147:6-147:15|-1|1|2","extent":"147:1-215:2|-1|1|0","bases":[],"derived":[],"vars":[6,7],"uses":[],"callees":[]},{"id":7,"usr":2911542236566864342,"detailed_name":"void autodown(void *ignore)","short_name_offset":5,"short_name_size":8,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"217:6-217:14|-1|1|2","extent":"217:1-251:2|-1|1|0","bases":[],"derived":[],"vars":[8,9],"uses":[],"callees":[]},{"id":8,"usr":13921463912995609957,"detailed_name":"void lifttostack()","short_name_offset":5,"short_name_size":11,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"252:6-252:17|-1|1|2","extent":"252:1-252:22|-1|1|0","bases":[],"derived":[],"vars":[],"uses":[],"callees":[]}],"vars":[{"id":0,"usr":2333357048659320681,"detailed_name":"int autolift","short_name_offset":4,"short_name_size":8,"hover":"","comments":"","declarations":["6:13-6:21|-1|1|1"],"type":0,"uses":[],"kind":13,"storage":2},{"id":1,"usr":9966414717138488341,"detailed_name":"int liftTH","short_name_offset":4,"short_name_size":6,"hover":"","comments":"","declarations":["7:19-7:25|-1|1|1"],"type":0,"uses":[],"kind":13,"storage":2},{"id":2,"usr":10023369148925975280,"detailed_name":"int AutoStackSema","short_name_offset":4,"short_name_size":13,"hover":"","comments":"","declarations":["8:18-8:31|-1|1|1"],"type":0,"uses":[],"kind":13,"storage":2},{"id":3,"usr":12262320169200746890,"detailed_name":"int swingdownset","short_name_offset":4,"short_name_size":12,"hover":"","comments":"","declarations":["9:12-9:24|-1|1|1"],"type":0,"uses":[],"kind":13,"storage":2},{"id":4,"usr":1030952445768561753,"detailed_name":"int liftdownset","short_name_offset":4,"short_name_size":11,"hover":"","comments":"","declarations":["10:12-10:23|-1|1|1"],"type":0,"uses":[],"kind":13,"storage":2},{"id":5,"usr":14262828701751242214,"detailed_name":"int us","short_name_offset":4,"short_name_size":2,"hover":"","comments":"","declarations":[],"spell":"143:7-143:9|5|3|2","extent":"143:3-143:9|5|3|0","type":0,"uses":["144:11-144:13|5|3|4","144:28-144:30|5|3|4"],"kind":13,"storage":1},{"id":6,"usr":15593341122114611560,"detailed_name":"void *ignore","short_name_offset":6,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"147:22-147:28|6|3|2","extent":"147:16-147:28|6|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":7,"usr":13608531668720981705,"detailed_name":"int stacktop","short_name_offset":4,"short_name_size":8,"hover":"","comments":"","declarations":[],"spell":"148:7-148:15|6|3|2","extent":"148:3-148:15|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":8,"usr":8343594133698037782,"detailed_name":"void *ignore","short_name_offset":6,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"217:21-217:27|7|3|2","extent":"217:15-217:27|7|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":9,"usr":6593545345708086822,"detailed_name":"int lifttop","short_name_offset":4,"short_name_size":7,"hover":"","comments":"","declarations":[],"spell":"220:9-220:16|7|3|2","extent":"220:5-220:16|7|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":10,"usr":6316084580482436712,"detailed_name":"swinglimit","short_name_offset":0,"short_name_size":10,"hover":"#define swinglimit (digitalRead(9) == LOW)","comments":"","declarations":[],"spell":"4:9-4:19|-1|1|2","extent":"4:9-4:43|-1|1|0","uses":["159:13-159:23|-1|1|4","234:13-234:23|-1|1|4"],"kind":255,"storage":0}]}